<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<div class="p-2">
  <div class="flex justify-content-between mb-3">
    <h4>Template Label List</h4>

    <p-button
      label="Add Template"
      icon="pi pi-plus"
      severity="primary"
      (onClick)="add()"
    />
  </div>

  <p-table
    [value]="templates"
    dataKey="id"
    stripedRows
    responsiveLayout="scroll"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th style="width: 140px">Action</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-row>
      <tr (dblclick)="openDetail(row)">
        <td>{{ row.name }}</td>
        <td>{{ row.description }}</td>
        <td class="flex gap-2">
          <p-button
            icon="pi pi-pencil"
            severity="secondary"
            size="small"
            (onClick)="openDetail(row)"
          />
          <p-button
            icon="pi pi-trash"
            severity="danger"
            size="small"
            (onClick)="delete(row)"
          />
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
<p-dialog
  [(visible)]="dialogVisible"
  [modal]="true"
  [header]="isEdit ? 'Edit Template' : 'Add Template'"
  [style]="{ width: '400px' }"
>
  <div class="flex flex-column gap-3">
    <div>
      <label>Name</label>
      <input pInputText [(ngModel)]="form.name" class="w-full" />
    </div>

    <div>
      <label>Description</label>
      <textarea
        pInputTextarea
        [(ngModel)]="form.description"
        rows="3"
        class="w-full"
      ></textarea>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <p-button
      label="Cancel"
      severity="secondary"
      (onClick)="dialogVisible = false"
    />
    <p-button label="Save" severity="primary" (onClick)="save()" />
  </ng-template>
</p-dialog>
